import{u as ce,b as A,E as $e}from"./el-popper-8066f5f1.js";import{J as ke,ay as Be,bk as Re,b as F,b3 as Oe,d as D,c as O,a as M,r as P,h as N,G as Ae,o as H,e as ze,w as ue,l as te,n as ae,t as de,j as ee,m as q,p as Ve,ak as De,_ as oe,bl as Le,y as me,C as se,aw as he,R as ne,M as le,H as V,a9 as re,ax as ge,I as Ue,U as j,bm as Fe,bn as Me,L as ye,bf as xe,q as v,E as I,bo as Ie,as as Ke,ae as He,am as K,ai as qe,Q as je,bi as We,Y as we,be as pe,D as Ye,A as Ge,u as Je,bp as be,a8 as Qe,bq as Xe,f as Ze,v as et,V as tt}from"./index-ac1b11cd.js";import{d as X}from"./dropdown-2eaab01b.js";import{c as z}from"./el-select-d5937a9c.js";const at=(e,o,i)=>Be(e.subTree).filter(a=>{var s;return Re(a)&&((s=a.type)==null?void 0:s.name)===o&&!!a.component}).map(a=>a.component.uid).map(a=>i[a]).filter(a=>!!a),ot=(e,o)=>{const i={},d=ke([]);return{children:d,addChild:s=>{i[s.uid]=s,d.value=at(e,o,i)},removeChild:s=>{delete i[s],d.value=d.value.filter($=>$.uid!==s)}}},st=F({trigger:ce.trigger,placement:X.placement,disabled:ce.disabled,visible:A.visible,transition:A.transition,popperOptions:X.popperOptions,tabindex:X.tabindex,content:A.content,popperStyle:A.popperStyle,popperClass:A.popperClass,enterable:{...A.enterable,default:!0},effect:{...A.effect,default:"light"},teleported:A.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),nt={"update:visible":e=>Oe(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},lt="onUpdate:visible",rt=D({name:"ElPopover"}),it=D({...rt,props:st,emits:nt,setup(e,{expose:o,emit:i}){const d=e,u=O(()=>d[lt]),a=M("popover"),s=P(),$=O(()=>{var t;return(t=N(s))==null?void 0:t.popperRef}),p=O(()=>[{width:Ae(d.width)},d.popperStyle]),g=O(()=>[a.b(),d.popperClass,{[a.m("plain")]:!!d.content}]),m=O(()=>d.transition===`${a.namespace.value}-fade-in-linear`),h=()=>{var t;(t=s.value)==null||t.hide()},b=()=>{i("before-enter")},r=()=>{i("before-leave")},B=()=>{i("after-enter")},k=()=>{i("update:visible",!1),i("after-leave")};return o({popperRef:$,hide:h}),(t,n)=>(H(),ze(N($e),De({ref_key:"tooltipRef",ref:s},t.$attrs,{trigger:t.trigger,placement:t.placement,disabled:t.disabled,visible:t.visible,transition:t.transition,"popper-options":t.popperOptions,tabindex:t.tabindex,content:t.content,offset:t.offset,"show-after":t.showAfter,"hide-after":t.hideAfter,"auto-close":t.autoClose,"show-arrow":t.showArrow,"aria-label":t.title,effect:t.effect,enterable:t.enterable,"popper-class":N(g),"popper-style":N(p),teleported:t.teleported,persistent:t.persistent,"gpu-acceleration":N(m),"onUpdate:visible":N(u),onBeforeShow:b,onBeforeHide:r,onShow:B,onHide:k}),{content:ue(()=>[t.title?(H(),te("div",{key:0,class:ae(N(a).e("title")),role:"title"},de(t.title),3)):ee("v-if",!0),q(t.$slots,"default",{},()=>[Ve(de(t.content),1)])]),default:ue(()=>[t.$slots.reference?q(t.$slots,"reference",{key:0}):ee("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var ct=oe(it,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const fe=(e,o)=>{const i=o.arg||o.value,d=i==null?void 0:i.popperRef;d&&(d.triggerRef=e)};var ut={mounted(e,o){fe(e,o)},updated(e,o){fe(e,o)}};const dt="popover",pt=Le(ut,dt),Rt=me(ct,{directive:pt}),W=Symbol("tabsRootContextKey"),bt=F({tabs:{type:se(Array),default:()=>he([])}}),Ne="ElTabBar",ft=D({name:Ne}),vt=D({...ft,props:bt,setup(e,{expose:o}){const i=e,d=j(),u=ne(W);u||le(Ne,"<el-tabs><el-tab-bar /></el-tabs>");const a=M("tabs"),s=P(),$=P(),p=()=>{let m=0,h=0;const b=["top","bottom"].includes(u.props.tabPosition)?"width":"height",r=b==="width"?"x":"y",B=r==="x"?"left":"top";return i.tabs.every(k=>{var t,n;const w=(n=(t=d.parent)==null?void 0:t.refs)==null?void 0:n[`tab-${k.uid}`];if(!w)return!1;if(!k.active)return!0;m=w[`offset${z(B)}`],h=w[`client${z(b)}`];const T=window.getComputedStyle(w);return b==="width"&&(i.tabs.length>1&&(h-=Number.parseFloat(T.paddingLeft)+Number.parseFloat(T.paddingRight)),m+=Number.parseFloat(T.paddingLeft)),!1}),{[b]:`${h}px`,transform:`translate${z(r)}(${m}px)`}},g=()=>$.value=p();return V(()=>i.tabs,async()=>{await re(),g()},{immediate:!0}),ge(s,()=>g()),o({ref:s,update:g}),(m,h)=>(H(),te("div",{ref_key:"barRef",ref:s,class:ae([N(a).e("active-bar"),N(a).is(N(u).props.tabPosition)]),style:Ue($.value)},null,6))}});var mt=oe(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const ht=F({panes:{type:se(Array),default:()=>he([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),gt={tabClick:(e,o,i)=>i instanceof Event,tabRemove:(e,o)=>o instanceof Event},ve="ElTabNav",yt=D({name:ve,props:ht,emits:gt,setup(e,{expose:o,emit:i}){const d=j(),u=ne(W);u||le(ve,"<el-tabs><tab-nav /></el-tabs>");const a=M("tabs"),s=Fe(),$=Me(),p=P(),g=P(),m=P(),h=P(),b=P(!1),r=P(0),B=P(!1),k=P(!0),t=O(()=>["top","bottom"].includes(u.props.tabPosition)?"width":"height"),n=O(()=>({transform:`translate${t.value==="width"?"X":"Y"}(-${r.value}px)`})),w=()=>{if(!p.value)return;const c=p.value[`offset${z(t.value)}`],f=r.value;if(!f)return;const l=f>c?f-c:0;r.value=l},T=()=>{if(!p.value||!g.value)return;const c=g.value[`offset${z(t.value)}`],f=p.value[`offset${z(t.value)}`],l=r.value;if(c-l<=f)return;const E=c-l>f*2?l+f:c-f;r.value=E},L=async()=>{const c=g.value;if(!b.value||!m.value||!p.value||!c)return;await re();const f=m.value.querySelector(".is-active");if(!f)return;const l=p.value,E=["top","bottom"].includes(u.props.tabPosition),_=f.getBoundingClientRect(),C=l.getBoundingClientRect(),R=E?c.offsetWidth-C.width:c.offsetHeight-C.height,S=r.value;let y=S;E?(_.left<C.left&&(y=S-(C.left-_.left)),_.right>C.right&&(y=S+_.right-C.right)):(_.top<C.top&&(y=S-(C.top-_.top)),_.bottom>C.bottom&&(y=S+(_.bottom-C.bottom))),y=Math.max(y,0),r.value=Math.min(y,R)},x=()=>{var c;if(!g.value||!p.value)return;e.stretch&&((c=h.value)==null||c.update());const f=g.value[`offset${z(t.value)}`],l=p.value[`offset${z(t.value)}`],E=r.value;l<f?(b.value=b.value||{},b.value.prev=E,b.value.next=E+l<f,f-E<l&&(r.value=f-l)):(b.value=!1,E>0&&(r.value=0))},Te=c=>{const f=c.code,{up:l,down:E,left:_,right:C}=K;if(![l,E,_,C].includes(f))return;const R=Array.from(c.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),S=R.indexOf(c.target);let y;f===_||f===l?S===0?y=R.length-1:y=S-1:S<R.length-1?y=S+1:y=0,R[y].focus({preventScroll:!0}),R[y].click(),ie()},ie=()=>{k.value&&(B.value=!0)},Y=()=>B.value=!1;return V(s,c=>{c==="hidden"?k.value=!1:c==="visible"&&setTimeout(()=>k.value=!0,50)}),V($,c=>{c?setTimeout(()=>k.value=!0,50):k.value=!1}),ge(m,x),ye(()=>setTimeout(()=>L(),0)),xe(()=>x()),o({scrollToActiveTab:L,removeFocus:Y}),V(()=>e.panes,()=>d.update(),{flush:"post",deep:!0}),()=>{const c=b.value?[v("span",{class:[a.e("nav-prev"),a.is("disabled",!b.value.prev)],onClick:w},[v(I,null,{default:()=>[v(Ie,null,null)]})]),v("span",{class:[a.e("nav-next"),a.is("disabled",!b.value.next)],onClick:T},[v(I,null,{default:()=>[v(Ke,null,null)]})])]:null,f=e.panes.map((l,E)=>{var _,C,R,S;const y=l.uid,G=l.props.disabled,J=(C=(_=l.props.name)!=null?_:l.index)!=null?C:`${E}`,Q=!G&&(l.isClosable||e.editable);l.index=`${E}`;const Ee=Q?v(I,{class:"is-icon-close",onClick:U=>i("tabRemove",l,U)},{default:()=>[v(He,null,null)]}):null,_e=((S=(R=l.slots).label)==null?void 0:S.call(R))||l.props.label,Se=!G&&l.active?0:-1;return v("div",{ref:`tab-${y}`,class:[a.e("item"),a.is(u.props.tabPosition),a.is("active",l.active),a.is("disabled",G),a.is("closable",Q),a.is("focus",B.value)],id:`tab-${J}`,key:`tab-${y}`,"aria-controls":`pane-${J}`,role:"tab","aria-selected":l.active,tabindex:Se,onFocus:()=>ie(),onBlur:()=>Y(),onClick:U=>{Y(),i("tabClick",l,J,U)},onKeydown:U=>{Q&&(U.code===K.delete||U.code===K.backspace)&&i("tabRemove",l,U)}},[_e,Ee])});return v("div",{ref:m,class:[a.e("nav-wrap"),a.is("scrollable",!!b.value),a.is(u.props.tabPosition)]},[c,v("div",{class:a.e("nav-scroll"),ref:p},[v("div",{class:[a.e("nav"),a.is(u.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(u.props.tabPosition))],ref:g,style:n.value,role:"tablist",onKeydown:Te},[e.type?null:v(mt,{ref:h,tabs:[...e.panes]},null),f])])])}}}),wt=F({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:se(Function),default:()=>!0},stretch:Boolean}),Z=e=>Ye(e)||Ge(e),Nt={[we]:e=>Z(e),tabClick:(e,o)=>o instanceof Event,tabChange:e=>Z(e),edit:(e,o)=>["remove","add"].includes(o),tabRemove:e=>Z(e),tabAdd:()=>!0};var Ct=D({name:"ElTabs",props:wt,emits:Nt,setup(e,{emit:o,slots:i,expose:d}){var u,a;const s=M("tabs"),{children:$,addChild:p,removeChild:g}=ot(j(),"ElTabPane"),m=P(),h=P((a=(u=e.modelValue)!=null?u:e.activeName)!=null?a:"0"),b=n=>{h.value=n,o(we,n),o("tabChange",n)},r=async n=>{var w,T,L;if(!(h.value===n||pe(n)))try{await((w=e.beforeLeave)==null?void 0:w.call(e,n,h.value))!==!1&&(b(n),(L=(T=m.value)==null?void 0:T.removeFocus)==null||L.call(T))}catch{}},B=(n,w,T)=>{n.props.disabled||(r(w),o("tabClick",n,T))},k=(n,w)=>{n.props.disabled||pe(n.props.name)||(w.stopPropagation(),o("edit",n.props.name,"remove"),o("tabRemove",n.props.name))},t=()=>{o("edit",void 0,"add"),o("tabAdd")};return qe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},O(()=>!!e.activeName)),V(()=>e.activeName,n=>r(n)),V(()=>e.modelValue,n=>r(n)),V(h,async()=>{var n;await re(),(n=m.value)==null||n.scrollToActiveTab()}),je(W,{props:e,currentName:h,registerPane:p,unregisterPane:g}),d({currentName:h}),()=>{const n=e.editable||e.addable?v("span",{class:s.e("new-tab"),tabindex:"0",onClick:t,onKeydown:L=>{L.code===K.enter&&t()}},[v(I,{class:s.is("icon-plus")},{default:()=>[v(We,null,null)]})]):null,w=v("div",{class:[s.e("header"),s.is(e.tabPosition)]},[n,v(yt,{ref:m,currentName:h.value,editable:e.editable,type:e.type,panes:$.value,stretch:e.stretch,onTabClick:B,onTabRemove:k},null)]),T=v("div",{class:s.e("content")},[q(i,"default")]);return v("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:e.type==="card",[s.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[w,T]:[T,w]])}}});const Pt=F({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Tt=["id","aria-hidden","aria-labelledby"],Ce="ElTabPane",Et=D({name:Ce}),_t=D({...Et,props:Pt,setup(e){const o=e,i=j(),d=Je(),u=ne(W);u||le(Ce,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=M("tab-pane"),s=P(),$=O(()=>o.closable||u.props.closable),p=be(()=>{var r;return u.currentName.value===((r=o.name)!=null?r:s.value)}),g=P(p.value),m=O(()=>{var r;return(r=o.name)!=null?r:s.value}),h=be(()=>!o.lazy||g.value||p.value);V(p,r=>{r&&(g.value=!0)});const b=Qe({uid:i.uid,slots:d,props:o,paneName:m,active:p,index:s,isClosable:$});return ye(()=>{u.registerPane(b)}),Xe(()=>{u.unregisterPane(b.uid)}),(r,B)=>N(h)?Ze((H(),te("div",{key:0,id:`pane-${N(m)}`,class:ae(N(a).b()),role:"tabpanel","aria-hidden":!N(p),"aria-labelledby":`tab-${N(m)}`},[q(r.$slots,"default")],10,Tt)),[[et,N(p)]]):ee("v-if",!0)}});var Pe=oe(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Ot=me(Ct,{TabPane:Pe}),At=tt(Pe);export{At as E,Ot as a,Rt as b};
