import{bp as Hl,bq as Rl,b as Vl,G as vl,H as jl,a1 as U,aE as Ql,br as Gl,b5 as Ol,r as M,bs as Ul,bt as Zl,c as d,J as Jl,bu as Xl,K,ad as B,N as He,W as Re,ay as Sl,$ as Pl,U as We,bv as Ne,bw as j,j as w,_ as je,d as De,a as be,ac as Qe,V as ml,aw as Yl,g as Le,y as bl,o as h,p as k,q as me,h as A,v as ne,n as C,Q as le,aA as Bl,L as re,a7 as hl,am as xl,s as wl,a8 as _l,a9 as en,aj as ln,bx as de,by as Ee,D as nn,bz as cl,aC as Tl,ap as Il,I as kl,bA as on,bB as tn,a3 as zl,ae as an,E as sn,b9 as un,bC as rn,ah as dn,S as Al,bD as cn,an as ee,bE as pn,x as ve,w as D,e as N,z as El,F as qe,a6 as pl,m as H,af as R,bF as fn,b6 as vn,l as Ll,B as mn,X as Kl}from"./index-975da454.js";import{i as Dl,b as bn,E as hn,a as gn,d as yn}from"./el-popper-f0383a31.js";import{E as Cn,t as On}from"./el-tag-ea6dd3a1.js";import{d as Ml,C as Sn}from"./el-tooltip-b298b7d8.js";const wn=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Jn=e=>Hl(e),Tn=e=>Rl[e||"default"],In=e=>({focus:()=>{var l,i;(i=(l=e.value)==null?void 0:l.focus)==null||i.call(l)}}),En=Vl({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:vl},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Xn={close:()=>!0},Yn=Vl({...En,appendToBody:{type:Boolean,default:!1},beforeClose:{type:jl(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),xn={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[U]:e=>Ql(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},_n=(e,l)=>{const f=Re().emit,{nextZIndex:g}=Gl();let c="";const s=Ol(),p=Ol(),u=M(!1),O=M(!1),m=M(!1),v=M(e.zIndex||g());let I,y;const E=Ul("namespace",Zl),t=d(()=>{const T={},W=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(T[`${W}-margin-top`]=e.top),e.width&&(T[`${W}-width`]=Jl(e.width))),T}),b=d(()=>e.alignCenter?{display:"flex"}:{});function S(){f("opened")}function $(){f("closed"),f(U,!1),e.destroyOnClose&&(m.value=!1)}function oe(){f("close")}function te(){y==null||y(),I==null||I(),e.openDelay&&e.openDelay>0?{stop:I}=Sl(()=>ce(),e.openDelay):ce()}function q(){I==null||I(),y==null||y(),e.closeDelay&&e.closeDelay>0?{stop:y}=Sl(()=>Y(),e.closeDelay):Y()}function ie(){function T(W){W||(O.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(T):q()}function X(){e.closeOnClickModal&&ie()}function ce(){Pl&&(u.value=!0)}function Y(){u.value=!1}function ae(){f("openAutoFocus")}function L(){f("closeAutoFocus")}function he(T){var W;((W=T.detail)==null?void 0:W.focusReason)==="pointer"&&T.preventDefault()}e.lockScroll&&Xl(u);function ge(){e.closeOnPressEscape&&ie()}return K(()=>e.modelValue,T=>{T?(O.value=!1,te(),m.value=!0,v.value=e.zIndex?v.value++:g(),B(()=>{f("open"),l.value&&(l.value.scrollTop=0)})):u.value&&q()}),K(()=>e.fullscreen,T=>{l.value&&(T?(c=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=c)}),He(()=>{e.modelValue&&(u.value=!0,m.value=!0,te())}),{afterEnter:S,afterLeave:$,beforeLeave:oe,handleClose:ie,onModalClick:X,close:q,doClose:Y,onOpenAutoFocus:ae,onCloseAutoFocus:L,onCloseRequested:ge,onFocusoutPrevented:he,titleId:s,bodyId:p,closed:O,style:t,overlayDialogStyle:b,rendered:m,visible:u,zIndex:v}},Fl=Symbol("ElSelectGroup"),Ge=Symbol("ElSelect");function Ln(e,l){const i=We(Ge),f=We(Fl,{disabled:!1}),g=d(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),c=d(()=>i.props.multiple?v(i.props.modelValue,e.value):I(e.value,i.props.modelValue)),s=d(()=>{if(i.props.multiple){const t=i.props.modelValue||[];return!c.value&&t.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),p=d(()=>e.label||(g.value?"":e.value)),u=d(()=>e.value||e.label||""),O=d(()=>e.disabled||l.groupDisabled||s.value),m=Re(),v=(t=[],b)=>{if(g.value){const S=i.props.valueKey;return t&&t.some($=>Ne(j($,S))===j(b,S))}else return t&&t.includes(b)},I=(t,b)=>{if(g.value){const{valueKey:S}=i.props;return j(t,S)===j(b,S)}else return t===b},y=()=>{!e.disabled&&!f.disabled&&(i.hoverIndex=i.optionsArray.indexOf(m.proxy))};K(()=>p.value,()=>{!e.created&&!i.props.remote&&i.setSelected()}),K(()=>e.value,(t,b)=>{const{remote:S,valueKey:$}=i.props;if(Object.is(t,b)||(i.onOptionDestroy(b,m.proxy),i.onOptionCreate(m.proxy)),!e.created&&!S){if($&&typeof t=="object"&&typeof b=="object"&&t[$]===b[$])return;i.setSelected()}}),K(()=>f.disabled,()=>{l.groupDisabled=f.disabled},{immediate:!0});const{queryChange:E}=Ne(i);return K(E,t=>{const{query:b}=w(t),S=new RegExp(wn(b),"i");l.visible=S.test(p.value)||e.created,l.visible||i.filteredOptionsCount--},{immediate:!0}),{select:i,currentLabel:p,currentValue:u,itemSelected:c,isDisabled:O,hoverItem:y}}const Dn=De({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const l=be("select"),i=d(()=>[l.be("dropdown","item"),l.is("disabled",w(s)),{selected:w(c),hover:w(m)}]),f=Qe({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:g,itemSelected:c,isDisabled:s,select:p,hoverItem:u}=Ln(e,f),{visible:O,hover:m}=ml(f),v=Re().proxy;p.onOptionCreate(v),Yl(()=>{const y=v.value,{selected:E}=p,b=(p.props.multiple?E:[E]).some(S=>S.value===v.value);B(()=>{p.cachedOptions.get(y)===v&&!b&&p.cachedOptions.delete(y)}),p.onOptionDestroy(y,v)});function I(){e.disabled!==!0&&f.groupDisabled!==!0&&p.handleOptionSelect(v)}return{ns:l,containerKls:i,currentLabel:g,itemSelected:c,isDisabled:s,select:p,hoverItem:u,visible:O,hover:m,selectOptionClick:I,states:f}}});function Mn(e,l,i,f,g,c){return Le((h(),k("li",{class:C(e.containerKls),onMouseenter:l[0]||(l[0]=(...s)=>e.hoverItem&&e.hoverItem(...s)),onClick:l[1]||(l[1]=le((...s)=>e.selectOptionClick&&e.selectOptionClick(...s),["stop"]))},[me(e.$slots,"default",{},()=>[A("span",null,ne(e.currentLabel),1)])],34)),[[bl,e.visible]])}var gl=je(Dn,[["render",Mn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const $n=De({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=We(Ge),l=be("select"),i=d(()=>e.props.popperClass),f=d(()=>e.props.multiple),g=d(()=>e.props.fitInputWidth),c=M("");function s(){var p;c.value=`${(p=e.selectWrapper)==null?void 0:p.offsetWidth}px`}return He(()=>{s(),Bl(e.selectWrapper,s)}),{ns:l,minWidth:c,popperClass:i,isMultiple:f,isFitInputWidth:g}}});function Vn(e,l,i,f,g,c){return h(),k("div",{class:C([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:re({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[me(e.$slots,"default")],6)}var Pn=je($n,[["render",Vn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Bn(e){const{t:l}=hl();return Qe({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let fl=!1;const kn=(e,l,i)=>{const{t:f}=hl(),g=be("select");xl({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},d(()=>e.suffixTransition===!1));const c=M(null),s=M(null),p=M(null),u=M(null),O=M(null),m=M(null),v=M(null),I=M(null),y=M(-1),E=wl({query:""}),t=wl(""),b=M([]);let S=0;const{form:$,formItem:oe}=_l(),te=d(()=>!e.filterable||e.multiple||!l.visible),q=d(()=>e.disabled||($==null?void 0:$.disabled)),ie=d(()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!q.value&&l.inputHovering&&n}),X=d(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),ce=d(()=>g.is("reverse",X.value&&l.visible&&e.suffixTransition)),Y=d(()=>e.remote?300:0),ae=d(()=>e.loading?e.loadingText||f("el.select.loading"):e.remote&&l.query===""&&l.options.size===0?!1:e.filterable&&l.query&&l.options.size>0&&l.filteredOptionsCount===0?e.noMatchText||f("el.select.noMatch"):l.options.size===0?e.noDataText||f("el.select.noData"):null),L=d(()=>{const n=Array.from(l.options.values()),o=[];return b.value.forEach(a=>{const r=n.findIndex(V=>V.currentLabel===a);r>-1&&o.push(n[r])}),o.length?o:n}),he=d(()=>Array.from(l.cachedOptions.values())),ge=d(()=>{const n=L.value.filter(o=>!o.created).some(o=>o.currentLabel===l.query);return e.filterable&&e.allowCreate&&l.query!==""&&!n}),T=en(),W=d(()=>["small"].includes(T.value)?"small":"default"),Ue=d({get(){return l.visible&&ae.value!==!1},set(n){l.visible=n}});K([()=>q.value,()=>T.value,()=>$==null?void 0:$.size],()=>{B(()=>{Q()})}),K(()=>e.placeholder,n=>{l.cachedPlaceHolder=l.currentPlaceholder=n,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(l.currentPlaceholder="")}),K(()=>e.modelValue,(n,o)=>{e.multiple&&(Q(),n&&n.length>0||s.value&&l.query!==""?l.currentPlaceholder="":l.currentPlaceholder=l.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(l.query="",x(l.query))),ye(),e.filterable&&!e.multiple&&(l.inputLength=20),!Dl(n,o)&&e.validateEvent&&(oe==null||oe.validate("change").catch(a=>ln()))},{flush:"post",deep:!0}),K(()=>l.visible,n=>{var o,a,r,V,P;n?((a=(o=u.value)==null?void 0:o.updatePopper)==null||a.call(o),e.filterable&&(l.filteredOptionsCount=l.optionsCount,l.query=e.remote?"":l.selectedLabel,(V=(r=p.value)==null?void 0:r.focus)==null||V.call(r),e.multiple?(P=s.value)==null||P.focus():l.selectedLabel&&(l.currentPlaceholder=`${l.selectedLabel}`,l.selectedLabel=""),x(l.query),!e.multiple&&!e.remote&&(E.value.query="",Ee(E),Ee(t)))):(e.filterable&&(de(e.filterMethod)&&e.filterMethod(""),de(e.remoteMethod)&&e.remoteMethod("")),s.value&&s.value.blur(),l.query="",l.previousQuery=null,l.selectedLabel="",l.inputLength=20,l.menuVisibleOnFocus=!1,Ze(),B(()=>{s.value&&s.value.value===""&&l.selected.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}),e.multiple||(l.selected&&(e.filterable&&e.allowCreate&&l.createdSelected&&l.createdLabel?l.selectedLabel=l.createdLabel:l.selectedLabel=l.selected.currentLabel,e.filterable&&(l.query=l.selectedLabel)),e.filterable&&(l.currentPlaceholder=l.cachedPlaceHolder))),i.emit("visible-change",n)}),K(()=>l.options.entries(),()=>{var n,o,a;if(!Pl)return;(o=(n=u.value)==null?void 0:n.updatePopper)==null||o.call(n),e.multiple&&Q();const r=((a=v.value)==null?void 0:a.querySelectorAll("input"))||[];Array.from(r).includes(document.activeElement)||ye(),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&$e()},{flush:"post"}),K(()=>l.hoverIndex,n=>{nn(n)&&n>-1?y.value=L.value[n]||{}:y.value={},L.value.forEach(o=>{o.hover=y.value===o})});const Q=()=>{B(()=>{var n,o;if(!c.value)return;const a=c.value.$el.querySelector("input");S=S||(a.clientHeight>0?a.clientHeight+2:0);const r=m.value,V=Tn(T.value||($==null?void 0:$.size)),P=T.value||V===S||S<=0?V:S;!(a.offsetParent===null)&&(a.style.height=`${(l.selected.length===0?P:Math.max(r?r.clientHeight+(r.clientHeight>P?6:0):0,P))-2}px`),l.visible&&ae.value!==!1&&((o=(n=u.value)==null?void 0:n.updatePopper)==null||o.call(n))})},x=async n=>{if(!(l.previousQuery===n||l.isOnComposition)){if(l.previousQuery===null&&(de(e.filterMethod)||de(e.remoteMethod))){l.previousQuery=n;return}l.previousQuery=n,B(()=>{var o,a;l.visible&&((a=(o=u.value)==null?void 0:o.updatePopper)==null||a.call(o))}),l.hoverIndex=-1,e.multiple&&e.filterable&&B(()=>{const o=s.value.value.length*15+20;l.inputLength=e.collapseTags?Math.min(50,o):o,Me(),Q()}),e.remote&&de(e.remoteMethod)?(l.hoverIndex=-1,e.remoteMethod(n)):de(e.filterMethod)?(e.filterMethod(n),Ee(t)):(l.filteredOptionsCount=l.optionsCount,E.value.query=n,Ee(E),Ee(t)),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&(await B(),$e())}},Me=()=>{l.currentPlaceholder!==""&&(l.currentPlaceholder=s.value.value?"":l.cachedPlaceHolder)},$e=()=>{const n=L.value.filter(r=>r.visible&&!r.disabled&&!r.states.groupDisabled),o=n.find(r=>r.created),a=n[0];l.hoverIndex=ke(L.value,o||a)},ye=()=>{var n;if(e.multiple)l.selectedLabel="";else{const a=Ve(e.modelValue);(n=a.props)!=null&&n.created?(l.createdLabel=a.props.value,l.createdSelected=!0):l.createdSelected=!1,l.selectedLabel=a.currentLabel,l.selected=a,e.filterable&&(l.query=l.selectedLabel);return}const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(a=>{o.push(Ve(a))}),l.selected=o,B(()=>{Q()})},Ve=n=>{let o;const a=cl(n).toLowerCase()==="object",r=cl(n).toLowerCase()==="null",V=cl(n).toLowerCase()==="undefined";for(let J=l.cachedOptions.size-1;J>=0;J--){const F=he.value[J];if(a?j(F.value,e.valueKey)===j(n,e.valueKey):F.value===n){o={value:n,currentLabel:F.currentLabel,isDisabled:F.isDisabled};break}}if(o)return o;const P=a?n.label:!r&&!V?n:"",Z={value:n,currentLabel:P};return e.multiple&&(Z.hitState=!1),Z},Ze=()=>{setTimeout(()=>{const n=e.valueKey;e.multiple?l.selected.length>0?l.hoverIndex=Math.min.apply(null,l.selected.map(o=>L.value.findIndex(a=>j(a,n)===j(o,n)))):l.hoverIndex=-1:l.hoverIndex=L.value.findIndex(o=>fe(o)===fe(l.selected))},300)},Je=()=>{var n,o;Xe(),(o=(n=u.value)==null?void 0:n.updatePopper)==null||o.call(n),e.multiple&&Q()},Xe=()=>{var n;l.inputWidth=(n=c.value)==null?void 0:n.$el.offsetWidth},Ye=()=>{e.filterable&&l.query!==l.selectedLabel&&(l.query=l.selectedLabel,x(l.query))},xe=Ml(()=>{Ye()},Y.value),_e=Ml(n=>{x(n.target.value)},Y.value),se=n=>{Dl(e.modelValue,n)||i.emit(zl,n)},pe=n=>{if(n.code!==Il.delete){if(n.target.value.length<=0&&!Oe()){const o=e.modelValue.slice();o.pop(),i.emit(U,o),se(o)}n.target.value.length===1&&e.modelValue.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}},Pe=(n,o)=>{const a=l.selected.indexOf(o);if(a>-1&&!q.value){const r=e.modelValue.slice();r.splice(a,1),i.emit(U,r),se(r),i.emit("remove-tag",o.value)}n.stopPropagation()},Be=n=>{n.stopPropagation();const o=e.multiple?[]:"";if(!kl(o))for(const a of l.selected)a.isDisabled&&o.push(a.value);i.emit(U,o),se(o),l.hoverIndex=-1,l.visible=!1,i.emit("clear")},Ce=n=>{var o;if(e.multiple){const a=(e.modelValue||[]).slice(),r=ke(a,n.value);r>-1?a.splice(r,1):(e.multipleLimit<=0||a.length<e.multipleLimit)&&a.push(n.value),i.emit(U,a),se(a),n.created&&(l.query="",x(""),l.inputLength=20),e.filterable&&((o=s.value)==null||o.focus())}else i.emit(U,n.value),se(n.value),l.visible=!1;el(),!l.visible&&B(()=>{_(n)})},ke=(n=[],o)=>{if(!Tl(o))return n.indexOf(o);const a=e.valueKey;let r=-1;return n.some((V,P)=>Ne(j(V,a))===j(o,a)?(r=P,!0):!1),r},el=()=>{const n=s.value||c.value;n&&(n==null||n.focus())},_=n=>{var o,a,r,V,P;const Z=Array.isArray(n)?n[0]:n;let J=null;if(Z!=null&&Z.value){const F=L.value.filter(Fe=>Fe.value===Z.value);F.length>0&&(J=F[0].$el)}if(u.value&&J){const F=(V=(r=(a=(o=u.value)==null?void 0:o.popperRef)==null?void 0:a.contentRef)==null?void 0:r.querySelector)==null?void 0:V.call(r,`.${g.be("dropdown","wrap")}`);F&&on(F,J)}(P=I.value)==null||P.handleScroll()},ll=n=>{l.optionsCount++,l.filteredOptionsCount++,l.options.set(n.value,n),l.cachedOptions.set(n.value,n)},nl=(n,o)=>{l.options.get(n)===o&&(l.optionsCount--,l.filteredOptionsCount--,l.options.delete(n))},ol=n=>{n.code!==Il.backspace&&Oe(!1),l.inputLength=s.value.value.length*15+20,Q()},Oe=n=>{if(!Array.isArray(l.selected))return;const o=l.selected[l.selected.length-1];if(o)return n===!0||n===!1?(o.hitState=n,n):(o.hitState=!o.hitState,o.hitState)},tl=n=>{const o=n.target.value;if(n.type==="compositionend")l.isOnComposition=!1,B(()=>x(o));else{const a=o[o.length-1]||"";l.isOnComposition=!tn(a)}},il=()=>{B(()=>_(l.selected))},al=n=>{fl?fl=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!l.visible&&(l.menuVisibleOnFocus=!0),l.visible=!0),i.emit("focus",n))},sl=()=>{var n,o,a;l.visible=!1,(n=c.value)==null||n.blur(),(a=(o=p.value)==null?void 0:o.blur)==null||a.call(o)},G=n=>{setTimeout(()=>{var o;if((o=u.value)!=null&&o.isFocusInsideContent()){fl=!0;return}l.visible&&we(),i.emit("blur",n)})},Se=n=>{Be(n)},we=()=>{l.visible=!1},Te=n=>{l.visible&&(n.preventDefault(),n.stopPropagation(),l.visible=!1)},ze=n=>{var o;n&&!l.mouseEnter||q.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:(!u.value||!u.value.isFocusInsideContent())&&(l.visible=!l.visible),l.visible&&((o=s.value||c.value)==null||o.focus()))},ul=()=>{l.visible?L.value[l.hoverIndex]&&Ce(L.value[l.hoverIndex]):ze()},fe=n=>Tl(n.value)?j(n.value,e.valueKey):n.value,Ae=d(()=>L.value.filter(n=>n.visible).every(n=>n.disabled)),rl=d(()=>l.selected.slice(0,e.maxCollapseTags)),Ie=d(()=>l.selected.slice(e.maxCollapseTags)),Ke=n=>{if(!l.visible){l.visible=!0;return}if(!(l.options.size===0||l.filteredOptionsCount===0)&&!l.isOnComposition&&!Ae.value){n==="next"?(l.hoverIndex++,l.hoverIndex===l.options.size&&(l.hoverIndex=0)):n==="prev"&&(l.hoverIndex--,l.hoverIndex<0&&(l.hoverIndex=l.options.size-1));const o=L.value[l.hoverIndex];(o.disabled===!0||o.states.groupDisabled===!0||!o.visible)&&Ke(n),B(()=>_(y.value))}};return{optionList:b,optionsArray:L,selectSize:T,handleResize:Je,debouncedOnInputChange:xe,debouncedQueryChange:_e,deletePrevTag:pe,deleteTag:Pe,deleteSelected:Be,handleOptionSelect:Ce,scrollToOption:_,readonly:te,resetInputHeight:Q,showClose:ie,iconComponent:X,iconReverse:ce,showNewOption:ge,collapseTagSize:W,setSelected:ye,managePlaceholder:Me,selectDisabled:q,emptyText:ae,toggleLastOptionHitState:Oe,resetInputState:ol,handleComposition:tl,onOptionCreate:ll,onOptionDestroy:nl,handleMenuEnter:il,handleFocus:al,blur:sl,handleBlur:G,handleClearClick:Se,handleClose:we,handleKeydownEscape:Te,toggleMenu:ze,selectOption:ul,getValueKey:fe,navigateOptions:Ke,handleDeleteTooltipTag:(n,o)=>{var a,r;Pe(n,o),(r=(a=O.value)==null?void 0:a.updatePopper)==null||r.call(a)},dropMenuVisible:Ue,queryChange:E,groupQueryChange:t,showTagList:rl,collapseTagList:Ie,reference:c,input:s,iOSInput:p,tooltipRef:u,tagTooltipRef:O,tags:m,selectWrapper:v,scrollbar:I,handleMouseEnter:()=>{l.mouseEnter=!0},handleMouseLeave:()=>{l.mouseEnter=!1}}};var zn=De({name:"ElOptions",emits:["update-options"],setup(e,{slots:l,emit:i}){let f=[];function g(c,s){if(c.length!==s.length)return!1;for(const[p]of c.entries())if(c[p]!=s[p])return!1;return!0}return()=>{var c,s;const p=(c=l.default)==null?void 0:c.call(l),u=[];function O(m){Array.isArray(m)&&m.forEach(v=>{var I,y,E,t;const b=(I=(v==null?void 0:v.type)||{})==null?void 0:I.name;b==="ElOptionGroup"?O(!kl(v.children)&&!Array.isArray(v.children)&&de((y=v.children)==null?void 0:y.default)?(E=v.children)==null?void 0:E.default():v.children):b==="ElOption"?u.push((t=v.props)==null?void 0:t.label):Array.isArray(v.children)&&O(v.children)})}return p.length&&O((s=p[0])==null?void 0:s.children),g(u,f)||(f=u,i("update-options",u)),p}}});const $l="ElSelect",An=De({name:$l,componentName:$l,components:{ElInput:an,ElSelectMenu:Pn,ElOption:gl,ElOptions:zn,ElTag:Cn,ElScrollbar:bn,ElTooltip:hn,ElIcon:sn},directives:{ClickOutside:Sn},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:un},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:gn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:vl,default:rn},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:vl,default:dn},tagType:{...On.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:yn,default:"bottom-start"}},emits:[U,zl,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const i=be("select"),f=be("input"),{t:g}=hl(),c=Bn(e),{optionList:s,optionsArray:p,selectSize:u,readonly:O,handleResize:m,collapseTagSize:v,debouncedOnInputChange:I,debouncedQueryChange:y,deletePrevTag:E,deleteTag:t,deleteSelected:b,handleOptionSelect:S,scrollToOption:$,setSelected:oe,resetInputHeight:te,managePlaceholder:q,showClose:ie,selectDisabled:X,iconComponent:ce,iconReverse:Y,showNewOption:ae,emptyText:L,toggleLastOptionHitState:he,resetInputState:ge,handleComposition:T,onOptionCreate:W,onOptionDestroy:Ue,handleMenuEnter:Q,handleFocus:x,blur:Me,handleBlur:$e,handleClearClick:ye,handleClose:Ve,handleKeydownEscape:Ze,toggleMenu:Je,selectOption:Xe,getValueKey:Ye,navigateOptions:xe,handleDeleteTooltipTag:_e,dropMenuVisible:se,reference:pe,input:Pe,iOSInput:Be,tooltipRef:Ce,tagTooltipRef:ke,tags:el,selectWrapper:_,scrollbar:ll,queryChange:nl,groupQueryChange:ol,handleMouseEnter:Oe,handleMouseLeave:tl,showTagList:il,collapseTagList:al}=kn(e,c,l),{focus:sl}=In(pe),{inputWidth:G,selected:Se,inputLength:we,filteredOptionsCount:Te,visible:ze,selectedLabel:ul,hoverIndex:fe,query:Ae,inputHovering:rl,currentPlaceholder:Ie,menuVisibleOnFocus:Ke,isOnComposition:yl,options:dl,cachedOptions:Cl,optionsCount:n,prefixWidth:o}=ml(c),a=d(()=>{const z=[i.b()],ue=w(u);return ue&&z.push(i.m(ue)),e.disabled&&z.push(i.m("disabled")),z}),r=d(()=>[i.e("tags"),i.is("disabled",w(X))]),V=d(()=>[i.b("tags-wrapper"),{"has-prefix":w(o)&&w(Se).length}]),P=d(()=>[i.e("input"),i.is(w(u)),i.is("disabled",w(X))]),Z=d(()=>[i.e("input"),i.is(w(u)),i.em("input","iOS")]),J=d(()=>[i.is("empty",!e.allowCreate&&!!w(Ae)&&w(Te)===0)]),F=d(()=>({maxWidth:`${w(G)-32}px`,width:"100%"})),Fe=d(()=>({maxWidth:`${w(G)>123?w(G)-123:w(G)-75}px`})),Wl=d(()=>({marginLeft:`${w(o)}px`,flexGrow:1,width:`${w(we)/(w(G)-32)}%`,maxWidth:`${w(G)-42}px`}));Al(Ge,Qe({props:e,options:dl,optionsArray:p,cachedOptions:Cl,optionsCount:n,filteredOptionsCount:Te,hoverIndex:fe,handleOptionSelect:S,onOptionCreate:W,onOptionDestroy:Ue,selectWrapper:_,selected:Se,setSelected:oe,queryChange:nl,groupQueryChange:ol})),He(()=>{c.cachedPlaceHolder=Ie.value=e.placeholder||(()=>g("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Ie.value=""),Bl(_,m),e.remote&&e.multiple&&te(),B(()=>{const z=pe.value&&pe.value.$el;if(z&&(G.value=z.getBoundingClientRect().width,l.slots.prefix)){const ue=z.querySelector(`.${f.e("prefix")}`);o.value=Math.max(ue.getBoundingClientRect().width+11,30)}}),oe()}),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(U,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(U,"");const Nl=d(()=>{var z,ue;return(ue=(z=Ce.value)==null?void 0:z.popperRef)==null?void 0:ue.contentRef});return{isIOS:cn,onOptionsRendered:z=>{s.value=z},prefixWidth:o,selectSize:u,readonly:O,handleResize:m,collapseTagSize:v,debouncedOnInputChange:I,debouncedQueryChange:y,deletePrevTag:E,deleteTag:t,handleDeleteTooltipTag:_e,deleteSelected:b,handleOptionSelect:S,scrollToOption:$,inputWidth:G,selected:Se,inputLength:we,filteredOptionsCount:Te,visible:ze,selectedLabel:ul,hoverIndex:fe,query:Ae,inputHovering:rl,currentPlaceholder:Ie,menuVisibleOnFocus:Ke,isOnComposition:yl,options:dl,resetInputHeight:te,managePlaceholder:q,showClose:ie,selectDisabled:X,iconComponent:ce,iconReverse:Y,showNewOption:ae,emptyText:L,toggleLastOptionHitState:he,resetInputState:ge,handleComposition:T,handleMenuEnter:Q,handleFocus:x,blur:Me,handleBlur:$e,handleClearClick:ye,handleClose:Ve,handleKeydownEscape:Ze,toggleMenu:Je,selectOption:Xe,getValueKey:Ye,navigateOptions:xe,dropMenuVisible:se,focus:sl,reference:pe,input:Pe,iOSInput:Be,tooltipRef:Ce,popperPaneRef:Nl,tags:el,selectWrapper:_,scrollbar:ll,wrapperKls:a,tagsKls:r,tagWrapperKls:V,inputKls:P,iOSInputKls:Z,scrollbarKls:J,selectTagsStyle:F,nsSelect:i,tagTextStyle:Fe,inputStyle:Wl,handleMouseEnter:Oe,handleMouseLeave:tl,showTagList:il,collapseTagList:al,tagTooltipRef:ke}}}),Kn=["disabled","autocomplete"],Fn=["disabled"],qn={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Wn(e,l,i,f,g,c){const s=ee("el-tag"),p=ee("el-tooltip"),u=ee("el-icon"),O=ee("el-input"),m=ee("el-option"),v=ee("el-options"),I=ee("el-scrollbar"),y=ee("el-select-menu"),E=pn("click-outside");return Le((h(),k("div",{ref:"selectWrapper",class:C(e.wrapperKls),onMouseenter:l[21]||(l[21]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:l[22]||(l[22]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onClick:l[23]||(l[23]=le((...t)=>e.toggleMenu&&e.toggleMenu(...t),["stop"]))},[ve(p,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:D(()=>[A("div",{class:"select-trigger",onMouseenter:l[19]||(l[19]=t=>e.inputHovering=!0),onMouseleave:l[20]||(l[20]=t=>e.inputHovering=!1)},[e.multiple?(h(),k("div",{key:0,ref:"tags",class:C(e.tagsKls),style:re(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(h(),N(El,{key:0,onAfterLeave:e.resetInputHeight},{default:D(()=>[A("span",{class:C(e.tagWrapperKls)},[(h(!0),k(qe,null,pl(e.showTagList,t=>(h(),N(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:b=>e.deleteTag(b,t)},{default:D(()=>[A("span",{class:C(e.nsSelect.e("tags-text")),style:re(e.tagTextStyle)},ne(t.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(h(),N(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:D(()=>[e.collapseTagsTooltip?(h(),N(p,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:D(()=>[A("span",{class:C(e.nsSelect.e("tags-text"))},"+ "+ne(e.selected.length-e.maxCollapseTags),3)]),content:D(()=>[A("div",{class:C(e.nsSelect.e("collapse-tags"))},[(h(!0),k(qe,null,pl(e.collapseTagList,t=>(h(),k("div",{key:e.getValueKey(t),class:C(e.nsSelect.e("collapse-tag"))},[ve(s,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:b=>e.handleDeleteTooltipTag(b,t)},{default:D(()=>[A("span",{class:C(e.nsSelect.e("tags-text")),style:re({maxWidth:e.inputWidth-75+"px"})},ne(t.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(h(),k("span",{key:1,class:C(e.nsSelect.e("tags-text"))},"+ "+ne(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):H("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):H("v-if",!0),e.collapseTags?H("v-if",!0):(h(),N(El,{key:1,onAfterLeave:e.resetInputHeight},{default:D(()=>[A("span",{class:C(e.tagWrapperKls),style:re(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(h(!0),k(qe,null,pl(e.selected,t=>(h(),N(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:b=>e.deleteTag(b,t)},{default:D(()=>[A("span",{class:C(e.nsSelect.e("tags-text")),style:re({maxWidth:e.inputWidth-75+"px"})},ne(t.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Le((h(),k("input",{key:2,ref:"input","onUpdate:modelValue":l[0]||(l[0]=t=>e.query=t),type:"text",class:C(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:re(e.inputStyle),onFocus:l[1]||(l[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[2]||(l[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:l[3]||(l[3]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[l[4]||(l[4]=(...t)=>e.resetInputState&&e.resetInputState(...t)),l[5]||(l[5]=R(le(t=>e.navigateOptions("next"),["prevent"]),["down"])),l[6]||(l[6]=R(le(t=>e.navigateOptions("prev"),["prevent"]),["up"])),l[7]||(l[7]=R((...t)=>e.handleKeydownEscape&&e.handleKeydownEscape(...t),["esc"])),l[8]||(l[8]=R(le((...t)=>e.selectOption&&e.selectOption(...t),["stop","prevent"]),["enter"])),l[9]||(l[9]=R((...t)=>e.deletePrevTag&&e.deletePrevTag(...t),["delete"])),l[10]||(l[10]=R(t=>e.visible=!1,["tab"]))],onCompositionstart:l[11]||(l[11]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:l[12]||(l[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:l[13]||(l[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:l[14]||(l[14]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,Kn)),[[fn,e.query]]):H("v-if",!0)],6)):H("v-if",!0),H(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(h(),k("input",{key:1,ref:"iOSInput",class:C(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,Fn)):H("v-if",!0),ve(O,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[15]||(l[15]=t=>e.selectedLabel=t),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:C([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[16]||(l[16]=R(le(t=>e.navigateOptions("next"),["stop","prevent"]),["down"])),l[17]||(l[17]=R(le(t=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),R(le(e.selectOption,["stop","prevent"]),["enter"]),R(e.handleKeydownEscape,["esc"]),l[18]||(l[18]=R(t=>e.visible=!1,["tab"]))]},vn({suffix:D(()=>[e.iconComponent&&!e.showClose?(h(),N(u,{key:0,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:D(()=>[(h(),N(Ll(e.iconComponent)))]),_:1},8,["class"])):H("v-if",!0),e.showClose&&e.clearIcon?(h(),N(u,{key:1,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:D(()=>[(h(),N(Ll(e.clearIcon)))]),_:1},8,["class","onClick"])):H("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:D(()=>[A("div",qn,[me(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:D(()=>[ve(y,null,{default:D(()=>[Le(ve(I,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:C(e.scrollbarKls)},{default:D(()=>[e.showNewOption?(h(),N(m,{key:0,value:e.query,created:!0},null,8,["value"])):H("v-if",!0),ve(v,{onUpdateOptions:e.onOptionsRendered},{default:D(()=>[me(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[bl,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(h(),k(qe,{key:0},[e.$slots.empty?me(e.$slots,"empty",{key:0}):(h(),k("p",{key:1,class:C(e.nsSelect.be("dropdown","empty"))},ne(e.emptyText),3))],64)):H("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[E,e.handleClose,e.popperPaneRef]])}var Nn=je(An,[["render",Wn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Hn=De({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const l=be("select"),i=M(!0),f=Re(),g=M([]);Al(Fl,Qe({...ml(e)}));const c=We(Ge);He(()=>{g.value=s(f.subTree)});const s=u=>{const O=[];return Array.isArray(u.children)&&u.children.forEach(m=>{var v;m.type&&m.type.name==="ElOption"&&m.component&&m.component.proxy?O.push(m.component.proxy):(v=m.children)!=null&&v.length&&O.push(...s(m))}),O},{groupQueryChange:p}=Ne(c);return K(p,()=>{i.value=g.value.some(u=>u.visible===!0)},{flush:"post"}),{visible:i,ns:l}}});function Rn(e,l,i,f,g,c){return Le((h(),k("ul",{class:C(e.ns.be("group","wrap"))},[A("li",{class:C(e.ns.be("group","title"))},ne(e.label),3),A("li",null,[A("ul",{class:C(e.ns.b("group"))},[me(e.$slots,"default")],2)])],2)),[[bl,e.visible]])}var ql=je(Hn,[["render",Rn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const eo=mn(Nn,{Option:gl,OptionGroup:ql}),lo=Kl(gl);Kl(ql);export{eo as E,xn as a,lo as b,Jn as c,Yn as d,En as e,Xn as f,_n as u};
